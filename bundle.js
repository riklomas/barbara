!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var n=r(1);r.n(n).a.init({transitions:[{sync:!0,leave:()=>new Promise(t=>{setTimeout(()=>t(),500)}),enter({next:t}){const e=t.container;e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.transform="translate(100%, 0)",e.style.zIndex=1,TweenMax.to(e,.5,{transform:"translate(0, 0)",onComplete:()=>{e.style.zIndex=0,this.async()}})}}]})},function(t,e,r){t.exports=function(){var t=function(){function t(){}return t.prototype.then=function(r,n){var o=new t,i=this.s;if(i){var a=1&i?r:n;if(a){try{e(o,1,a(this.v))}catch(t){e(o,2,t)}return o}return this}return this.o=function(t){try{var i=t.v;1&t.s?e(o,1,r?r(i):i):n?e(o,1,n(i)):e(o,2,i)}catch(t){e(o,2,t)}},o},t}();function e(r,n,o){if(!r.s){if(o instanceof t){if(!o.s)return void(o.o=e.bind(null,r,n));1&n&&(n=o.s),o=o.v}if(o&&o.then)return void o.then(e.bind(null,r,n),e.bind(null,r,2));r.s=n,r.v=o;var i=r.o;i&&i(r)}}function r(t,e){try{var r=t()}catch(t){return e(t)}return r&&r.then?r.then(void 0,e):r}var n,o={};!function(){function r(t){this.t=t,this.i=null,this.u=null,this.h=null,this.l=null}function n(t){return{value:t,done:!0}}function i(t){return{value:t,done:!1}}r.prototype[Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))]=function(){return this},r.prototype.p=function(e){return this.u(e&&e.then?e.then(i):i(e)),this.i=new t},r.prototype.next=function(r){var i=this;return i.l=new Promise(function(a){var s=i.i;if(null===s){var u=i.t;if(null===u)return a(i.l);function c(t){i.u(t&&t.then?t.then(n):n(t)),i.i=null,i.u=null}i.t=null,i.u=a,u(i).then(c,function(e){if(e===o)c(i.h);else{var r=new t;i.u(r),i.i=null,i.u=null,_resolve(r,2,e)}})}else i.i=null,i.u=a,e(s,1,r)})},r.prototype.return=function(t){var r=this;return r.l=new Promise(function(i){var a=r.i;if(null===a)return null===r.t?i(r.l):(r.t=null,i(t&&t.then?t.then(n):n(t)));r.h=t,r.u=i,r.i=null,e(a,2,o)})},r.prototype.throw=function(t){var r=this;return r.l=new Promise(function(n,o){var i=r.i;if(null===i)return null===r.t?n(r.l):(r.t=null,o(t));r.u=n,r.i=null,e(i,2,t)})}}(),function(t){t[t.off=0]="off",t[t.error=1]="error",t[t.warning=2]="warning",t[t.info=3]="info",t[t.debug=4]="debug"}(n||(n={}));var i=n.off,a=function(t){this.m=t};a.getLevel=function(){return i},a.setLevel=function(t){return i=n[t]},a.prototype.error=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this.P(console.error,n.error,t)},a.prototype.warn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this.P(console.warn,n.warning,t)},a.prototype.info=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this.P(console.info,n.info,t)},a.prototype.debug=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this.P(console.log,n.debug,t)},a.prototype.P=function(t,e,r){e<=a.getLevel()&&t.apply(console,["["+this.m+"] "].concat(r))};var s=function(){this.logger=new a("@barba/core"),this.all=["go","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeAppear","appear","afterAppear","appearCanceled","before","beforeLeave","leave","afterLeave","leaveCanceled","beforeEnter","enter","afterEnter","enterCanceled","after"],this.registered=new Map,this.init()};s.prototype.init=function(){var t=this;this.registered.clear(),this.all.forEach(function(e){t[e]||(t[e]=function(r,n){void 0===n&&(n=null),t.registered.has(e)||t.registered.set(e,new Set),t.registered.get(e).add({ctx:n,fn:r})})})},s.prototype.do=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];this.registered.has(t)&&this.registered.get(t).forEach(function(t){t.fn.apply(t.ctx,e)})},s.prototype.clear=function(){var t=this;this.all.forEach(function(e){delete t[e]}),this.init()},s.prototype.help=function(){this.logger.info("[@barba/core] Available hooks: "+this.all),this.logger.info("[@barba/core] Registered hooks: "+Object.keys(this.registered))};var u=new s,c=function t(e,r,n){return e instanceof RegExp?function(t,e){if(!e)return t;var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return t}(e,r):Array.isArray(e)?function(e,r,n){for(var o=[],i=0;i<e.length;i++)o.push(t(e[i],r,n).source);return new RegExp("(?:"+o.join("|")+")",w(n))}(e,r,n):function(t,e,r){return b(d(t,r),e,r)}(e,r,n)},f=d,h=g,p=b,l="/",v=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function d(t,e){for(var r,n=[],o=0,i=0,a="",s=e&&e.delimiter||l,u=e&&e.whitelist||void 0,c=!1;null!==(r=v.exec(t));){var f=r[0],h=r[1],p=r.index;if(a+=t.slice(i,p),i=p+f.length,h)a+=h[1],c=!0;else{var d="",g=r[2],w=r[3],b=r[4],x=r[5];if(!c&&a.length){var P=a.length-1,E=a[P];(!u||u.indexOf(E)>-1)&&(d=E,a=a.slice(0,P))}a&&(n.push(a),a="",c=!1);var O=w||b,A=d||s;n.push({name:g||o++,prefix:d,delimiter:A,optional:"?"===x||"*"===x,repeat:"+"===x||"*"===x,pattern:O?y(O):"[^"+m(A===s?A:A+s)+"]+?"})}}return(a||i<t.length)&&n.push(a+t.substr(i)),n}function g(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^(?:"+t[r].pattern+")$"));return function(r,n){for(var o="",i=n&&n.encode||encodeURIComponent,a=0;a<t.length;a++){var s=t[a];if("string"!=typeof s){var u,c=r?r[s.name]:void 0;if(Array.isArray(c)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but got array');if(0===c.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var f=0;f<c.length;f++){if(u=i(c[f],s),!e[a].test(u))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'"');o+=(0===f?s.prefix:s.delimiter)+u}}else if("string"!=typeof c&&"number"!=typeof c&&"boolean"!=typeof c){if(!s.optional)throw new TypeError('Expected "'+s.name+'" to be '+(s.repeat?"an array":"a string"))}else{if(u=i(String(c),s),!e[a].test(u))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but got "'+u+'"');o+=s.prefix+u}}else o+=s}return o}}function m(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function y(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function w(t){return t&&t.sensitive?"":"i"}function b(t,e,r){for(var n=(r=r||{}).strict,o=!1!==r.start,i=!1!==r.end,a=r.delimiter||l,s=[].concat(r.endsWith||[]).map(m).concat("$").join("|"),u=o?"^":"",c=0;c<t.length;c++){var f=t[c];if("string"==typeof f)u+=m(f);else{var h=f.repeat?"(?:"+f.pattern+")(?:"+m(f.delimiter)+"(?:"+f.pattern+"))*":f.pattern;e&&e.push(f),u+=f.optional?f.prefix?"(?:"+m(f.prefix)+"("+h+"))?":"("+h+")?":m(f.prefix)+"("+h+")"}}if(i)n||(u+="(?:"+m(a)+")?"),u+="$"===s?"$":"(?="+s+")";else{var p=t[t.length-1],v="string"==typeof p?p[p.length-1]===a:void 0===p;n||(u+="(?:"+m(a)+"(?="+s+"))?"),v||(u+="(?="+m(a)+"|"+s+")")}return new RegExp(u,w(r))}c.parse=f,c.compile=function(t,e){return g(d(t,e))},c.tokensToFunction=h,c.tokensToRegExp=p;var x={container:"container",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},P=function(){this.g=x,this.A=new DOMParser};P.prototype.toString=function(t){return t.outerHTML},P.prototype.toDocument=function(t){return this.A.parseFromString(t,"text/html")},P.prototype.getHtml=function(t){return void 0===t&&(t=document),this.toString(t.documentElement)},P.prototype.getWrapper=function(t){return void 0===t&&(t=document),t.querySelector("["+this.g.prefix+'="'+this.g.wrapper+'"]')},P.prototype.getContainer=function(t){return void 0===t&&(t=document),t.querySelector("["+this.g.prefix+'="'+this.g.container+'"]')},P.prototype.getNamespace=function(t){void 0===t&&(t=document);var e=t.querySelector("["+this.g.prefix+"-"+this.g.namespace+"]");return e?e.getAttribute(this.g.prefix+"-"+this.g.namespace):null},P.prototype.getUrl=function(t){return t.getAttribute&&t.getAttribute("href")?t.href:null};var E=new P,O=function(t,e){try{var r=function(){if(!e.html)return Promise.resolve(t).then(function(t){if(t){var r=E.toDocument(t);e.namespace=E.getNamespace(r),e.container=E.getContainer(r),e.html=E.getHtml(r)}})}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},A=c,j={updateNext:O,pathToRegexp:A},M=function(){return window.location.origin},k=function(t){var e=t||window.location.port,r=window.location.protocol;return""!==e?parseInt(e,10):"https:"===r?443:80},T=function(t){return L(t).path},L=function(t){var e,r=C(t),n={},o=r.indexOf("#");o>=0&&(e=r.slice(o+1),r=r.slice(0,o));var i=r.indexOf("?");return i>=0&&(n=S(r.slice(i+1)),r=r.slice(0,i)),{hash:e,path:r,query:n}},S=function(t){return t.split("&").reduce(function(t,e){var r=e.split("=");return t[r[0]]=r[1],t},{})},C=function(t,e){return void 0===e&&(e=M()),t.replace(e,"")},_={getHref:function(){return window.location.href},getOrigin:M,getPort:k,getPath:T,parse:L,parseQuery:S,clean:C},R=function(t){if(this.j=[],"boolean"==typeof t)this.T=t;else{var e=Array.isArray(t)?t:[t];this.j=e.map(function(t){return A(t)})}};R.prototype.checkUrl=function(t){if("boolean"==typeof this.T)return this.T;var e=L(t).path;return this.j.some(function(t){return null!==t.exec(e)})};var I=function(t){function e(e){t.call(this,e),this.O=new Map}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t,e){return this.checkUrl(t)||this.O.set(t,e),e},e.prototype.get=function(t){return this.O.get(t)},e.prototype.has=function(t){return this.O.has(t)},e.prototype.delete=function(t){return this.O.delete(t)},e}(R),N=function(){this.O=[]},$={current:{configurable:!0},previous:{configurable:!0}};N.prototype.add=function(t,e){this.O.push({url:t,ns:e})},N.prototype.remove=function(){this.O.pop()},N.prototype.push=function(t,e){this.add(t,e),window.history&&window.history.pushState(null,"",t)},N.prototype.cancel=function(){this.remove(),window.history&&window.history.back()},$.current.get=function(){return this.O[this.O.length-1]},$.previous.get=function(){return this.O.length<2?null:this.O[this.O.length-2]},Object.defineProperties(N.prototype,$);var U=function(t){try{var e=new Headers({"x-barba":"yes"});return Promise.resolve(r(function(){return Promise.resolve(self.fetch(t,{cache:"default",headers:e,method:"GET"})).then(function(t){if(t.status>=200&&t.status<300)return t.text();throw t})},function(t){throw t}))}catch(t){return Promise.reject(t)}};function W(t,e,r){return void 0===e&&(e=2e3),function(t,e,r,n){return new Promise(function(o,i){var a=window.setTimeout(function(){var e=new Error("Timeout error");n(t,e),i(e)},e);r.then(function(t){window.clearTimeout(a),o(t)},function(e){window.clearTimeout(a),n(t,e),i(e)}).catch(function(t){i(t)})})}(t,e,U(t),r)}var q,H=function(){return!window.history.pushState},D=function(t){return!t.el||!t.href},F=function(t){var e=t.event;return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},B=function(t){var e=t.el;return e.hasAttribute("target")&&"_blank"===e.target},K=function(t){var e=t.el;return window.location.protocol!==e.protocol||window.location.hostname!==e.hostname},G=function(t){var e=t.el;return k()!==k(e.port)},J=function(t){var e=t.el;return e.getAttribute&&"string"==typeof e.getAttribute("download")},X=function(t){return t.el.hasAttribute(x.prefix+"-"+x.prevent)},Z=function(t){return Boolean(t.el.closest("["+x.prefix+"-"+x.prevent+'="all"]'))},z=function(t){return T(t.href)===T(window.location.href)},V=function(t){function e(e){t.call(this,e),this.suite=[],this.tests=new Map,this.init()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.init=function(){this.add("pushState",H),this.add("exists",D),this.add("newTab",F),this.add("blank",B),this.add("corsDomain",K),this.add("corsPort",G),this.add("download",J),this.add("preventSelf",X),this.add("preventAll",Z),this.add("sameUrl",z,!1)},e.prototype.add=function(t,e,r){void 0===r&&(r=!0),this.tests.set(t,e),r&&this.suite.push(t)},e.prototype.run=function(t,e,r,n){return this.tests.get(t)({el:e,event:r,href:n})},e.prototype.checkLink=function(t,e,r){var n=this;return this.suite.some(function(o){return n.run(o,t,e,r)})},e}(R),Y=(function(t){var e=t.exports=function(t,e){return e=e||function(){},function(){var r=!1,n=arguments,o=new Promise(function(e,o){var i,a=t.apply({async:function(){return r=!0,function(t,r){t?o(t):e(r)}}},Array.prototype.slice.call(n));r||(!(i=a)||"object"!=typeof i&&"function"!=typeof i||"function"!=typeof i.then?e(a):a.then(e,o))});return o.then(e.bind(null,null),e),o}};e.cb=function(t,r){return e(function(){var e=Array.prototype.slice.call(arguments);return e.length===t.length-1&&e.push(this.async()),t.apply(this,e)},r)}}(q={exports:{}}),q.exports),Q=function(t){void 0===t&&(t=[]),this.logger=new a("@barba/core"),this.all=[],this.appear=[],this.R=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],t&&(this.all=this.all.concat(t)),this.k()};Q.prototype.add=function(t,e){switch(t){case"rule":this.R.splice(e.position||0,0,e.value);break;case"transition":default:this.all.push(e)}this.k()},Q.prototype.resolve=function(t,e){var r=this;void 0===e&&(e=!1);var n=e?this.appear:this.all,o=new Map,i=n.find(function(n){var i=!0,a={};return r.R.reverse().forEach(function(o){i&&(i=r.C(n,o,t,a),e||(n.from&&n.to&&(i=r.C(n,o,t,a,"from")&&r.C(n,o,t,a,"to")),n.from&&!n.to&&(i=r.C(n,o,t,a,"from")),!n.from&&n.to&&(i=r.C(n,o,t,a,"to"))))}),o.set(n,a),i});return this.logger.info(o.get(i)),i},Q.prototype.k=function(){var t=this;this.all=this.all.map(function(e){return t.L(e)}).sort(function(t,e){return t.priority-e.priority}).reverse().map(function(t){return delete t.priority,t}),this.appear=this.all.filter(function(t){return t.appear})},Q.prototype.C=function(t,e,r,n,o){var i=!0,a=!1,s=t,u=e.name,c=u,f=u,h=u,p=o?s[o]:s,l="to"===o?r.next:r.current;if(o?p&&p[u]:p[u]){switch(e.type){case"strings":default:var v=Array.isArray(p[c])?p[c]:[p[c]];l[c]&&-1!==v.indexOf(l[c])&&(a=!0),-1===v.indexOf(l[c])&&(i=!1);break;case"object":var d=Array.isArray(p[f])?p[f]:[p[f]];l[f]&&l[f].name&&-1!==d.indexOf(l[f].name)&&(a=!0),-1===d.indexOf(l[f].name)&&(i=!1);break;case"function":p[h](r)?a=!0:i=!1}a&&(o?(n[o]=n[o]||{},n[o][u]=s[o][u]):n[u]=s[u])}return i},Q.prototype.S=function(t,e,r){var n=0;return(t[e]||t.from&&t.from[e]||t.to&&t.to[e])&&(n+=Math.pow(10,r),t.from&&t.from[e]&&(n+=1),t.to&&t.to[e]&&(n+=2)),n},Q.prototype.L=function(t){var e=this;t.priority=0;var r=0;return this.R.forEach(function(n,o){r+=e.S(t,n.name,o+1)}),t.priority=r,t};var tt=function(t){void 0===t&&(t=[]),this.logger=new a("@barba/core"),this.$=!1,this.store=new Q(t)},et={isRunning:{configurable:!0},hasAppear:{configurable:!0},shouldWait:{configurable:!0}};tt.prototype.get=function(t,e){return void 0===e&&(e=!1),this.store.resolve(t,e)},et.isRunning.get=function(){return this.$},et.hasAppear.get=function(){return this.store.appear.length>0},et.shouldWait.get=function(){return this.store.all.some(function(t){return t.to&&!t.to.route||t.sync})},tt.prototype.doAppear=function(t){var e=t.data,n=t.transition;try{var o=this;function i(t){o.$=!1}if(!n)return void o.logger.warn("No transition found");o.$=!0;var a=n,s=r(function(){return Promise.resolve(o.M("beforeAppear",e,a)).then(function(){return Promise.resolve(o.N(e,a)).then(function(){return Promise.resolve(o.M("afterAppear",e,a)).then(function(){})})})},function(t){return o.logger.error(t),Promise.resolve(o.M("appearCanceled",e,a)).then(function(){throw new Error("Transition error [appear]")})});return s&&s.then?s.then(i):i()}catch(t){return Promise.reject(t)}},tt.prototype.doPage=function(t){var e=t.data,n=t.transition,o=t.page,i=t.wrapper;try{var a=this;function s(t){a.$=!1}!n&&a.logger.warn("No transition found");var u=n||{},c=!0===u.sync||!1;a.$=!0;var f=r(function(){function t(){return Promise.resolve(a.M("before",e,u)).then(function(){function t(t){a.M("after",e,u)}var n=function(){if(c)return r(function(){return Promise.resolve(a.M("beforeLeave",e,u)).then(function(){return Promise.resolve(a.M("beforeEnter",e,u)).then(function(){return a.B(e,i),Promise.resolve(Promise.all([a.I(e,u),a.U(e,u)])).then(function(){return Promise.resolve(a.M("afterLeave",e,u)).then(function(){return a.q(e),Promise.resolve(a.M("afterEnter",e,u)).then(function(){})})})})})},function(){return Promise.resolve(a.M("leaveCanceled",e,u)).then(function(){return Promise.resolve(a.M("enterCanceled",e,u)).then(function(){throw new Error("Transition error [page][sync]")})})});{function t(t){return r(function(){var t=function(){if(!1!==n)return Promise.resolve(a.M("beforeEnter",e,u)).then(function(){return a.B(e,i),Promise.resolve(a.U(e,u,n)).then(function(){return Promise.resolve(a.M("afterEnter",e,u)).then(function(){})})})}();if(t&&t.then)return t.then(function(){})},function(){return Promise.resolve(a.M("leaveCanceled",e,u)).then(function(){return Promise.resolve(a.M("enterCanceled",e,u)).then(function(){throw new Error("Transition error [page][enter]")})})})}var n=!1,s=r(function(){return Promise.resolve(a.M("beforeLeave",e,u)).then(function(){return Promise.resolve(Promise.all([a.I(e,u),O(o,e.next)]).then(function(t){return t[0]})).then(function(t){return n=t,Promise.resolve(a.M("afterLeave",e,u)).then(function(){a.q(e)})})})},function(){return Promise.resolve(a.M("leaveCanceled",e,u)).then(function(){throw new Error("Transition error [page][leave]")})});return s&&s.then?s.then(t):t()}}();return n&&n.then?n.then(t):t()})}var n=function(){if(c)return Promise.resolve(O(o,e.next)).then(function(){})}();return n&&n.then?n.then(t):t()},function(t){throw a.logger.error(t),new Error("Transition error")});return f&&f.then?f.then(s):s()}catch(t){return Promise.reject(t)}},tt.prototype.N=function(t,e){return u.do("appear",t,e),e.appear?Y(e.appear)(t):Promise.resolve()},tt.prototype.I=function(t,e){return u.do("leave",t,e),e.leave?Y(e.leave)(t):Promise.resolve()},tt.prototype.U=function(t,e,r){return u.do("enter",t,e),e.enter?Y(e.enter)(t,r):Promise.resolve()},tt.prototype.M=function(t,e,r){return u.do(t,e,r),r[t]?Y(r[t])(e):Promise.resolve()},tt.prototype.B=function(t,e){e.appendChild(t.next.container),u.do("nextAdded",t)},tt.prototype.q=function(t){t.current.container.remove(),u.do("currentRemoved",t)},Object.defineProperties(tt.prototype,et);var rt=function(t){var e=this;this.names=["beforeAppear","afterAppear","beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,0!==t.length&&(t.forEach(function(t){e.byNamespace.set(t.namespace,t)}),this.names.forEach(function(t){u[t](e.D(t),e)}))};rt.prototype.D=function(t){var e=this;return function(r){var n=e.byNamespace.get(r.current.namespace);n&&n[t]&&n[t](r)}},Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var nt={container:void 0,html:void 0,namespace:void 0,url:{hash:void 0,href:void 0,path:void 0,query:{}}},ot=function(){this.version="2.0.1-next.97+33c213b",this.schemaPage=nt,this.Logger=a,this.logger=new a("@barba/core"),this.plugins=[],this.hooks=u,this.dom=E,this.helpers=j,this.request=W,this.url=_},it={data:{configurable:!0},wrapper:{configurable:!0}};return ot.prototype.use=function(t,e){var r=this.plugins;r.indexOf(t)>-1?this.logger.warn("Plugin ["+t.name+"] already installed."):"function"==typeof t.install?(t.install(this,e),r.push(t)):this.logger.warn("Plugin ["+t.name+'] has no "install" method.')},ot.prototype.init=function(t){void 0===t&&(t={});var e=t.transitions;void 0===e&&(e=[]);var r=t.views;void 0===r&&(r=[]);var n=t.prevent;void 0===n&&(n=null);var o=t.timeout;void 0===o&&(o=2e3);var i=t.requestError,s=t.cacheIgnore;void 0===s&&(s=!1);var u=t.prefetchIgnore;void 0===u&&(u=!1);var c=t.schema;void 0===c&&(c=x);var f=t.debug;void 0===f&&(f=!1);var h=t.logLevel;if(void 0===h&&(h="off"),a.setLevel(!0===f?"debug":h),Object.keys(c).forEach(function(t){x[t]&&(x[t]=c[t])}),this.H=i,this.timeout=o,this.cacheIgnore=s,this.prefetchIgnore=u,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.G();var p=this.data.current;if(!p.container)throw new Error("[@barba/core] No Barba container found");if(this.history=new N,this.cache=new I(s),this.prevent=new V(u),this.transitions=new tt(e),this.views=new rt(r),null!==n){if("function"!=typeof n)throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",n)}this.history.add(p.url.href,p.namespace),this.cache.set(p.url.href,Promise.resolve(p.html)),this.W=this.W.bind(this),this.F=this.F.bind(this),this.J=this.J.bind(this),this.K(),this.plugins.forEach(function(t){return t.init()}),this.appear()},ot.prototype.destroy=function(){this.G(),this.V(),this.hooks.clear(),this.plugins=[]},it.data.get=function(){return this.X},it.wrapper.get=function(){return this._},ot.prototype.force=function(t){window.location.assign(t)},ot.prototype.appear=function(){try{var t=this,e=function(){if(t.transitions.hasAppear){var e=r(function(){var e=t.X,r=t.transitions.get(e,!0);return Promise.resolve(t.transitions.doAppear({transition:r,data:e})).then(function(){})},function(e){t.logger.error(e)});if(e&&e.then)return e.then(function(){})}}();return e&&e.then?e.then(function(){}):void 0}catch(t){return Promise.reject(t)}},ot.prototype.go=function(t,e){void 0===e&&(e="barba");try{var n=this;function o(){"popstate"===e?n.history.add(t,n.data.next.namespace):n.history.push(t,n.data.next.namespace);var o=n.X;u.do("go",o);var i=r(function(){var t=n.transitions.get(o);return Promise.resolve(n.transitions.doPage({data:o,page:a,transition:t,wrapper:n._})).then(function(){n.Y(o),n.G()})},function(t){n.history.cancel(),n.logger.error(t)});if(i&&i.then)return i.then(function(){})}if(n.transitions.isRunning)return void n.force(t);n.data.next.url=Object.assign({},{href:t},n.url.parse(t)),n.data.trigger=e;var i=n.request(t,n.timeout,n.Z.bind(n,e,"click")),a=n.cache.has(t)?n.cache.get(t):n.cache.set(t,i),s=function(){if(n.transitions.shouldWait)return Promise.resolve(O(a,n.data.next)).then(function(){})}();return s&&s.then?s.then(o):o()}catch(t){return Promise.reject(t)}},ot.prototype.K=function(){!0!==this.prefetchIgnore&&(document.addEventListener("mouseover",this.W),document.addEventListener("touchstart",this.W)),document.addEventListener("click",this.F),window.addEventListener("popstate",this.J)},ot.prototype.V=function(){!0!==this.prefetchIgnore&&(document.removeEventListener("mouseover",this.W),document.removeEventListener("touchstart",this.W)),document.removeEventListener("click",this.F),window.removeEventListener("popstate",this.J)},ot.prototype.W=function(t){var e=this,r=this.nn(t);if(r){var n=this.dom.getUrl(r);this.prevent.checkUrl(n)||this.cache.has(n)||this.cache.set(n,this.request(n,this.timeout,this.Z.bind(this,r,"enter")).catch(function(t){return e.logger.error(t)}))}},ot.prototype.F=function(t){var e=this.nn(t);e&&(t.stopPropagation(),t.preventDefault(),this.prevent.run("sameUrl",e,t,e.href)?this.force(e.href):this.go(this.dom.getUrl(e),e))},ot.prototype.J=function(){var t=this.url.getHref();this.go(t,"popstate")},ot.prototype.Z=function(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];var o=r[0],i=r[1];return this.cache.delete(o),!(this.H&&!1===this.H(t,e,o,i)||("click"===e&&this.force(o),1))},ot.prototype.nn=function(t){for(var e=t.target;e&&!this.dom.getUrl(e);)e=e.parentNode;if(e&&!this.prevent.checkLink(e,t,e.href))return e},ot.prototype.G=function(){var t=this.url.getHref(),e={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:Object.assign({},{href:t},this.url.parse(t))};this.X={current:e,next:Object.assign({},this.schemaPage),trigger:void 0},u.do("reset",this.data)},ot.prototype.Y=function(t){var e=this.dom.toDocument(t.next.html);document.title=e.title},Object.defineProperties(ot.prototype,it),new ot}()}]);